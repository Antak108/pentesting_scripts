import nmap

nm = nmap.PortScanner()

# Replace 'IP_ADDRESS' with the IP address you want to scan
nm.scan('8.8.8.8', arguments='-sV')

# Print the results of the scan
for host in nm.all_hosts():
    print('Host : %s (%s)' % (host, nm[host].hostname()))
    print('State : %s' % nm[host].state())
    for protocol in nm[host].all_protocols():
        print('----------')
        print('Protocol : %s' % protocol)

        lport = nm[host][protocol].keys()
        lport.sort()
        for port in lport:
            print ('port : %s\tstate : %s' % (port, nm[host][protocol][port]['state']))
            print ('port : %s\tservice : %s' % (port, nm[host][protocol][port]['name']))
            print ('port : %s\tproduct : %s' % (port, nm[host][protocol][port]['product']))
            print ('port : %s\tversion : %s' % (port, nm[host][protocol][port]['version']))
            print ('port : %s\textra info : %s' % (port, nm[host][protocol][port]['extrainfo']))
            print ('port : %s\tconf : %s' % (port, nm[host][protocol][port]['conf']))
            print ('port : %s\tmethod : %s' % (port, nm[host][protocol][port]['method']))